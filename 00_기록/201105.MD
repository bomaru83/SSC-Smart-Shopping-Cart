201103

<br>

# IoT 활용 프로젝트 - 스마트 쇼핑 카트

**Github** : https://github.com/cooluks2/iot_project

<br>

### 역할

**김태림** : 카트용 어플리케이션 개발

**김민경** : 센서, 모터 동작 제어 및 송신 데이터 디바이스 제어

**이수빈** : 사용자 어플리케이션 개발

**이주호** : DB 설계 및 수신 데이터 디바이스 제어

**최정욱** : 카트 및 사용자앱 UI 제작

<br>

**프로토타입**

![image-20201026172926767](README.assets/image-20201026172926767.png)   

![image-20201028102644705](README.assets/image-20201028102644705.png)  

![image-20201028102703338](README.assets/image-20201028102703338.png)  

<br>

<br>

### 기능

#### 라즈베리파이 & 아두이노

1.  파이카메라 - 바코드 센싱 : 바코드 값 숫자로 읽기
2.  로드셀 - 무게 센싱 : 정밀도 및 범위 확인
    -   무게가 줄어들거나 품목에 따라 바코드 센서를 실행시켜 물건 무게 측정 및 결과 출력)
    -   무게에 따라 가격 달라지는 품목(ex. 과일) 번호, 무게를 통해 자동 계산
3.  ~~초음파 센서 - 따라다니게~~

<br>

#### **카트용 APP (스마트폰)** - 카트 및 디바이와 연동

1.  제품명, 수량, 가격, 품목수, 총액, 무게 표시
    -   DB 송신
2.  물품의 카테고리 정보를 통해 물품 위치만 출력
    -   DB 수신
3.  스마트폰 카메라를 이용하여 QR코드(사용자 정보) 인식
4.  ~~계산 - 등록된 카드로 자동 결제~~

<br>

#### **사용자용 APP** (스마트폰)

1.  영수증 생성 (제품명, 수량, 가격, 품목수, 총액 DB에서 가져옴)
2.  로그인 및 회원가입
3.  사용자별 로그인 정보 QR코드 내보내기 (Zxing)

<br>

#### DB

1.  제품명, 수량, 가격, 품목수, 총액 관리
2.  바코드 값 처리 및 카테고리 분류
3.  회원정보, QR코드 정보 확인(QR 코드는 보안 이슈로 인해 다른 딴에서 처리해야할 수도 있을 것 같음)
4.  ERD - 루시드차트

<br>

**참고 영상**
https://www.youtube.com/watch?v=YhHQpmYQNKo&feature=emb_logo

---

<br>

<br>

<br>

---

### 일정

10/20 ~ 10/28 : 주제 선정 및 일정 수립, 자료 조사

**10/30(금) - 프로젝트 기획 발표 - 오후 1시, 1조부터**

**11/6(금) - 1차 발표**

**11/12(목) - 2차 발표**

**11/17(화) - 최종 발표**

<br>

### 프로젝트 수행 도구

통합개발도구(IDE) : Visual Studio Code, Python v3.7, Android Studio

비정형 데이터베이스 : MongoDB Community Server v4.x

게이트웨이 디바이스 : Raspberrypi 4 ModelB (4GB)

엣지 디바이스 : Arduino (연동 : MQTT 프로토콜)

센서 모듈 : 로드셀 무게 감지 센서

스마트 디바이스 : Android smart phone / galaxy series 2.5 GHz CPU, 3GB RAM or 동급이상

<br>

### 신청 부품

1.  장비 devicemart

    HX711 Load Cell Amplifier (NER-16059)11,000원 - 1개 로드셀 (Load Cell) 15Kg - 3선식 Half Bridge, 15Kg T Beam Load Cell (4pcs/lot)33,000원 - 1개
    https://www.devicemart.co.kr/goods/view?no=1328402  
    https://www.devicemart.co.kr/goods/view?no=1360978

    **장비 배송비 포함 금액 46,500원 (배송비 2,500원)**


2.  문구 용품  officedepot
    5T/5mm 아크릴판 검정 370mm X 300mm 우드보드 회원가 4,800원 2개
    https://www.officedepot.co.kr/item/itemView.do?currentPageNo=1&cateId=000001602910030002624315&rowLevel=2&listSortNo=&listType=&itemId=708260&brandIds=&searchBrandId=&kw=&kw3=&cboCateLevel1=000001602910030002624049&cboCateLevel2=000001602910030002624315

    **문구 용품 배송비 포함 금액 12,100원 (배송비 2,500원)**


3.  ~~[유로파크] 대용량 접이식 핸드카트 쇼핑카트 시장 장바구니 73L~~
    ~~배송비 포함 23,670원 - 1개~~
    ~~http://item.gmarket.co.kr/Item?goodscode=1633623096~~

>   ~~총 86,050원~~ **총 금액 58,600원**

<br>

### 참고

<br>

### **history**

201021 - 주제 선정

201022 - 필요 물품 조사

201023 - 필요 물품 변경(로드셀 4개), DB ERM 초기버전 작성 , LCD X APP O

>   LCD X APP O : 라즈베리파이 GUI 개발(tkinter-python, qt-c++)의 어려움

201024, 201025 - 주말

201026 - app 아이디어 구체화, 장바구니 예산 포함 실패, 역할별 정보 수집

>   APP 2개를 운용하여 카트용, 사용자용으로 구분 예정

201027 - 로드셀·바코드·QR 관련 코드 정리, DB 설계 구체화, APP 프로토타입 제작

201028 - 역할 분담 구체화, 정보 수집, 시험

201029 - WBS 제작, 프로젝트 기획안 제작

201030 - 기획안 마무리, DB 연동 시작, 파이카메라 바코드 및 QR코드 인식 확인, 앱 UI 제작 시작, 수행평가, 로그인과 DB연동 확인, 사용자용 앱 UI 완료, 두 앱간 로그인 연동 확인

201101 - 주말

201102 - 바코드(라즈) 카메라 USB 카메라로 변경, 사용자앱 firebase 데이터 받기 기능 완료, 마트앱 farebase 데이터 CRUD 확인

201103 - 로드셀 신호 확인, 바코드(라즈)·firebase DB 연동 확인

201104 

```
- 사용자앱 - UI 완료 및 DB데이터 수신 확인 DB를 통한 영수증 데이터 처리중
- 카트용앱 - 영수증 보내기, DB produt 물품 센싱 시 사진 포함 출력 기능 완성
- DB - 예제 데이터 삽입
- 센서 - 로드셀 및 USB카메라 동작 확인, Socket 통신 기능 확인 중
- WBS 중간 점검 수행 
```
201105 - 1차 발표 준비 각자 구현한 내용을 바탕으로 ppt 작성

<br>

### **해결 할 것**

DB? 정함!

프로젝트 일정표 어떻게? 했음! 근데 다시 알아봐야함

추후 역할? 추후에...

물건 배송은 언제? 10/30 우드보드옴 11/2 부품 모두 도착

바코드·무게 데이터 어떻게 전송?

---
